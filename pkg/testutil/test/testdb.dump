BEGIN TRANSACTION;
CREATE TABLE `categories` (`id` text,`created_at` datetime,`updated_at` datetime,`deleted_at` datetime,`name` text,`description` text,`project_id` text NOT NULL,`created_by` text NOT NULL,PRIMARY KEY (`id`),CONSTRAINT `fk_categories_project` FOREIGN KEY (`project_id`) REFERENCES `projects`(`id`));
INSERT INTO "categories" VALUES('category1','2023-03-31 10:49:58.879388917+00:00','2023-03-31 10:49:58.879388917+00:00',NULL,'Category 1','','user1_project1','user1');
INSERT INTO "categories" VALUES('category2','2023-03-31 10:49:58.87941742+00:00','2023-03-31 10:49:58.87941742+00:00',NULL,'Category 2','','user1_project1','user1');
INSERT INTO "categories" VALUES('category3','2023-03-31 10:49:58.879445824+00:00','2023-03-31 10:49:58.879445824+00:00',NULL,'Category 3','','user1_project1','user3');
CREATE TABLE `claimed_quests` (`id` text,`created_at` datetime,`updated_at` datetime,`deleted_at` datetime,`quest_id` text,`user_id` text,`input` text,`status` text,`reviewer_id` text,`reviewer_at` datetime,`comment` text,PRIMARY KEY (`id`),CONSTRAINT `fk_claimed_quests_quest` FOREIGN KEY (`quest_id`) REFERENCES `quests`(`id`),CONSTRAINT `fk_claimed_quests_user` FOREIGN KEY (`user_id`) REFERENCES `users`(`id`));
INSERT INTO "claimed_quests" VALUES('claimedQuest1','2023-03-31 10:49:58.879561572+00:00','2023-03-31 10:49:58.879561572+00:00',NULL,'project1_quest1','user1','any','accepted','','0001-01-01 00:00:00+00:00','');
INSERT INTO "claimed_quests" VALUES('claimedQuest2','2023-03-31 10:49:58.879594193+00:00','2023-03-31 10:49:58.879594193+00:00',NULL,'project1_quest2','user2','bar','rejected','','0001-01-01 00:00:00+00:00','');
INSERT INTO "claimed_quests" VALUES('claimedQuest3','2023-03-31 10:49:58.87962456+00:00','2023-03-31 10:49:58.87962456+00:00',NULL,'project1_quest2','user3','foo','pending','','0001-01-01 00:00:00+00:00','');
CREATE TABLE `collaborators` (`id` text,`created_at` datetime,`updated_at` datetime,`deleted_at` datetime,`user_id` text NOT NULL,`project_id` text NOT NULL,`role` text,`created_by` text NOT NULL,PRIMARY KEY (`id`),CONSTRAINT `fk_collaborators_project` FOREIGN KEY (`project_id`) REFERENCES `projects`(`id`),CONSTRAINT `fk_collaborators_user` FOREIGN KEY (`user_id`) REFERENCES `users`(`id`));
INSERT INTO "collaborators" VALUES('collaborator1','2023-03-31 10:49:58.879327391+00:00','2023-03-31 10:49:58.879327391+00:00',NULL,'user1','user1_project1','owner','');
INSERT INTO "collaborators" VALUES('collaborator3','2023-03-31 10:49:58.879362857+00:00','2023-03-31 10:49:58.879362857+00:00',NULL,'user3','user1_project1','reviewer','user1');
CREATE TABLE `oauth2` (`user_id` text,`service` text,`service_user_id` text,PRIMARY KEY (`user_id`,`service`),CONSTRAINT `fk_oauth2_user` FOREIGN KEY (`user_id`) REFERENCES `users`(`id`));
CREATE TABLE `projects` (`id` text,`created_at` datetime,`updated_at` datetime,`deleted_at` datetime,`created_by` text NOT NULL,`name` text,`twitter` text,`discord` text,`telegram` text,PRIMARY KEY (`id`));
INSERT INTO "projects" VALUES('user1_project1','2023-03-31 10:49:58.879219618+00:00','2023-03-31 10:49:58.879219618+00:00',NULL,'user1','User1 Project1','https://twitter.com/hashtag/Breaking2','https://discord.com/hashtag/Breaking2','https://telegram.com');
INSERT INTO "projects" VALUES('user2_project2','2023-03-31 10:49:58.879273229+00:00','2023-03-31 10:49:58.879273229+00:00',NULL,'user2','User2 Project2','https://twitter.com/hashtag/Breaking2','https://discord.com/hashtag/Breaking2','https://telegram.com');
CREATE TABLE `quests` (`id` text,`created_at` datetime,`updated_at` datetime,`deleted_at` datetime,`project_id` text,`type` text,`status` text,`index` integer,`title` text,`description` text,`category_ids` blob,`recurrence` text,`validation_data` text,`awards` blob,`condition_op` text,`conditions` blob,PRIMARY KEY (`id`),CONSTRAINT `fk_quests_project` FOREIGN KEY (`project_id`) REFERENCES `projects`(`id`));
INSERT INTO "quests" VALUES('project1_quest1','2023-03-31 10:49:58.879470791+00:00','2023-03-31 10:49:58.879470791+00:00',NULL,'user1_project1','text','draft',0,'Quest1','Quest1 Description',X'5B2231222C2232222C2233225D','once','{}',X'5B7B2274797065223A22706F696E74222C2276616C7565223A22313030227D5D','or',X'5B7B2274797065223A227175657374222C226F70223A2269735F636F6D706C65746564222C2276616C7565223A2270726F6A656374315F717565737431227D5D');
INSERT INTO "quests" VALUES('project1_quest2','2023-03-31 10:49:58.87952349+00:00','2023-03-31 10:49:58.87952349+00:00',NULL,'user1_project1','visit_link','active',0,'Quest2','Quest2 Description',X'5B5D','daily','{"link": "https://example.com"}',X'5B5D','and',X'5B7B2274797065223A227175657374222C226F70223A2269735F636F6D706C65746564222C2276616C7565223A2270726F6A656374315F717565737431227D5D');
CREATE TABLE `users` (`id` text,`created_at` datetime,`updated_at` datetime,`deleted_at` datetime,`address` text,`name` text,PRIMARY KEY (`id`));
INSERT INTO "users" VALUES('user1','2023-03-31 10:49:58.8789976+00:00','2023-03-31 10:49:58.8789976+00:00',NULL,'','');
INSERT INTO "users" VALUES('user2','2023-03-31 10:49:58.87911973+00:00','2023-03-31 10:49:58.87911973+00:00',NULL,'','');
INSERT INTO "users" VALUES('user3','2023-03-31 10:49:58.879187597+00:00','2023-03-31 10:49:58.879187597+00:00',NULL,'','');
CREATE INDEX `idx_users_deleted_at` ON `users`(`deleted_at`);
CREATE INDEX `idx_projects_deleted_at` ON `projects`(`deleted_at`);
CREATE INDEX `idx_quests_deleted_at` ON `quests`(`deleted_at`);
CREATE INDEX `idx_collaborators_deleted_at` ON `collaborators`(`deleted_at`);
CREATE INDEX `idx_categories_deleted_at` ON `categories`(`deleted_at`);
CREATE INDEX `idx_claimed_quests_deleted_at` ON `claimed_quests`(`deleted_at`);
COMMIT;
